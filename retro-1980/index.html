<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1980년대: 그 시절 우리가 좋아했던 소년소녀</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Sunflower:wght@300;500;700&family=Noto+Sans+KR:wght@300;400;700&family=Noto+Serif+KR:wght@400;700&display=swap');

        body {
            font-family: 'Gowun Dodum', sans-serif;
            background-color: #f5f0e1;
            /* Warm, aged paper color */
            color: #4a4036;
            transition: background-color 0.3s ease;
        }

        h1,
        h2,
        h3,
        .retro-title {
            font-family: 'Sunflower', sans-serif;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #e6dec3;
        }

        ::-webkit-scrollbar-thumb {
            background: #8c7b6c;
            border-radius: 4px;
        }

        .tab-active {
            border-bottom: 3px solid #b91c1c;
            /* Retro Red */
            color: #b91c1c;
            font-weight: bold;
        }

        .memory-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .memory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .section-content,
        .section-content-90s,
        .section-content-00s {
            animation: fadeIn 0.5s ease-in-out;
            width: 100%;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Era Switching Styles */
        .era-container {
            display: none;
        }

        .era-active {
            display: block !important;
        }

        .era-btn-active {
            background-color: #b91c1c;
            color: white;
            border-color: #5d5147;
        }

        /* 90s Specific Themes */
        .theme-90s {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #e5e7eb;
            color: #1f2937;
        }

        .theme-90s h1,
        .theme-90s h2,
        .theme-90s h3,
        .theme-90s .retro-title {
            font-family: 'Noto Serif KR', serif;
        }

        .theme-90s header {
            background-color: #1e40af !important;
            /* Deeper blue for 90s */
            border-bottom-color: #1e3a8a !important;
        }

        .theme-90s footer {
            background-color: #1e40af !important;
            border-top-color: #1e3a8a !important;
        }

        .theme-90s .nav-btn.tab-active {
            border-bottom-color: #3b82f6;
            color: #2563eb;
        }

        /* 90s Slider & Progress Styles */
        .year-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 12px;
            border-radius: 6px;
            background: #cbd5e1;
            outline: none;
            cursor: pointer;
        }

        .year-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #2563eb;
            cursor: pointer;
            border: 4px solid white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        }

        .archive-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .archive-card:hover {
            transform: scale(1.02);
        }

        .category-tab-90s {
            transition: all 0.2s;
            border: 1px solid #d1d5db;
        }

        .category-tab-90s.active {
            background-color: #2563eb;
            color: white;
            border-color: #1e40af;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
        }

        /* 90s Extended Styles */
        .serif {
            font-family: 'Noto Serif KR', serif;
        }

        .retro-vibe {
            background-color: #e2e8f0;
            border: 2px solid #4a5568;
            box-shadow: 4px 4px 0px #2d3748;
        }

        .tab-btn.active-tab {
            border-bottom: 3px solid #e53e3e;
            color: #e53e3e;
            font-weight: 700;
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
            animation: fadeIn 0.5s ease-in-out;
        }

        /* 2000s Era Styles */
        .theme-00s .nav-btn.tab-active {
            border-bottom-color: #ff6b00;
            color: #ff6b00;
        }

        .theme-00s header {
            background-color: #ffffff !important;
            border-bottom-color: #e5e7eb !important;
            color: #333 !important;
        }

        .theme-00s header h1,
        .theme-00s header p {
            /* Handled by JS mostly, but ensure visibility */
            color: #1a1a1a;
        }

        .theme-00s body {
            background-color: #f0f2f5;
        }

        /* Cyworld & 2000s specific components */
        /* Chart Container Styles */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 300px;
            margin: 0 auto;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Cyworld-esque Dotori Animation */
        .dotori-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(255, 107, 0, 0.3);
        }

        .retro-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .retro-card:hover {
            border-color: #ff6b00;
        }
    </style>

</head>

<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-[#8c7b6c] text-[#f5f0e1] p-6 shadow-md border-b-4 border-[#5d5147]">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div>
                <!-- Dynamic Title/Subtitle -->
                <h1 class="text-3xl md:text-4xl font-bold tracking-wider mb-2" id="main-title">로딩 중...</h1>
                <p class="text-sm md:text-base opacity-90" id="main-subtitle">...</p>
            </div>
            <div class="mt-4 md:mt-0 flex flex-col items-center md:items-end">
                <div class="flex space-x-2 mb-3">
                    <button onclick="switchEra('80s')" id="era-btn-80s"
                        class="px-4 py-2 border-2 border-[#5d5147] rounded-md font-bold transition-all era-btn-active">1980s</button>
                    <button onclick="switchEra('90s')" id="era-btn-90s"
                        class="px-4 py-2 border-2 border-[#5d5147] rounded-md font-bold transition-all bg-[#e6dec3] text-[#4a4036]">1990s</button>
                    <button onclick="switchEra('00s')" id="era-btn-00s"
                        class="px-4 py-2 border-2 border-[#5d5147] rounded-md font-bold transition-all bg-[#e6dec3] text-[#4a4036]">2000s</button>
                </div>
                <!-- Tags (Static for now) -->
                <div class="flex space-x-4 text-sm font-bold" id="tag-container">
                    <span class="px-3 py-1 bg-[#b91c1c] rounded-full">#구슬치기</span>
                    <span class="px-3 py-1 bg-[#1d4ed8] rounded-full">#88올림픽</span>
                    <span class="px-3 py-1 bg-[#15803d] rounded-full">#도시락</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Navigation -->
    <nav class="bg-[#e6dec3] sticky top-0 z-50 shadow-sm border-b border-[#d6ceb2]">
        <div class="container mx-auto">
            <ul id="dynamic-nav"
                class="flex overflow-x-auto justify-start md:justify-center text-nowrap scrollbar-hide">
                <!-- Items will be loaded by JS -->
            </ul>
        </div>
    </nav>

    <!-- Admin Button (Fixed Bottom Right) -->
    <a href="admin.html"
        class="fixed bottom-4 right-4 bg-red-600 text-white font-bold p-3 rounded shadow-lg z-50 hover:bg-red-500 transition">⚙️
        Admin</a>

    <!-- Supabase Logic -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        const SUPABASE_URL = 'https://rcciivtbucjtrhzgeyds.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_F40YWB1fkqCWZcLlWzHyNA_rbaPfLaG';
        const sbClient = window.supabase ? window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY) : null;

        // Init Dynamic Content
        document.addEventListener('DOMContentLoaded', () => {
            loadDynamicContent();
        });

        async function loadDynamicContent() {
            if (!sbClient) return; // Fallback if script fails

            // 1. Load Texts
            const { data: assets } = await sbClient.from('site_assets').select('*');
            if (assets) {
                const title = assets.find(r => r.key === 'main_title');
                const sub = assets.find(r => r.key === 'main_subtitle');
                if (title) document.getElementById('main-title').innerText = title.value;
                if (sub) document.getElementById('main-subtitle').innerText = sub.value;

                // 2. Load Images
                assets.forEach(asset => {
                    if (asset.key.startsWith('img_')) {
                        const img = document.querySelector(`img[data-asset-key="${asset.key}"]`);
                        if (img) img.src = asset.value;
                    }
                });
            }

            // 3. Load Menu (kept same)
            const { data: menu } = await sbClient.from('menu_items').select('*').order('order_index');
            const navUl = document.getElementById('dynamic-nav');

            if (menu && menu.length > 0) {
                navUl.innerHTML = '';
                menu.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'flex-shrink-0';
                    li.innerHTML = `
                        <button onclick="navTo('${item.action_id}')" id="btn-${item.action_id}"
                            class="nav-btn px-6 py-4 hover:bg-[#d6ceb2] transition-colors focus:outline-none">
                            ${item.label}
                        </button>
                    `;
                    navUl.appendChild(li);
                });

                // Set initial active state manually or check hash
                document.querySelector('.nav-btn')?.classList.add('tab-active');
            } else {
                // Fallback content if DB is empty or connection error
                console.log("No menu data found, using fallback or retaining existing logic if possible");
            }
        }
    </script>

    <!-- Content Container -->
    <main class="flex-grow container mx-auto max-w-7xl p-4 md:p-8 space-y-8">

        <!-- 1980s ERA CONTAINER -->
        <div id="era-80s" class="era-container era-active">
            <!-- Intro Section -->
            <section id="intro-80s" class="text-center py-8 border-b-2 border-[#d6ceb2]">
                <h2 class="text-2xl font-bold mb-4 retro-title">"아카시아 향기 휘날리던 그 시절로의 여행"</h2>
                <p class="max-w-2xl mx-auto text-lg leading-relaxed">
                    1980년대, 우리는 스마트폰 대신 흙먼지를 뒤집어쓰며 골목을 누볐습니다.
                    <br>
                    국민학교 운동장의 조회 시간, 난로 위 양철 도시락, 그리고 친구들과의 구슬치기 한판.
                </p>
            </section>

            <!-- Section 1: Playground (Games) -->
            <section id="playground" class="section-content">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border border-[#d6ceb2]">
                    <div class="flex flex-col md:flex-row justify-between items-start mb-6">
                        <div>
                            <h3 class="text-2xl font-bold text-[#b91c1c] mb-2">골목대장 선발대회: 추억의 놀이</h3>
                            <p class="text-gray-600">해가 질 때까지 집에도 안 가고 했던 그 놀이들을 기억하시나요?</p>
                        </div>
                    </div>

                    <!-- Marbles Deep Dive -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10">
                        <div>
                            <h4 class="text-xl font-bold mb-4 border-l-4 border-[#1d4ed8] pl-3">🔮 구슬치기 대백과</h4>
                            <p class="mb-4 text-sm text-gray-700">
                                동그란 유리구슬 하나에 울고 웃던 시절. 지역마다 룰(Rule)은 달랐지만 열정만큼은 국가대표급이었습니다.
                            </p>
                            <img src="images/retro_alley_marbles.png" data-asset-key="img_marbles_main"
                                class="w-full h-96 object-cover rounded-lg mb-4 shadow-inner" alt="Marble games">

                            <!-- Marble Game Types Tabs -->
                            <div class="flex space-x-2 mb-4 bg-gray-100 p-1 rounded-lg">
                                <button onclick="switchMarble('triangle')"
                                    class="marble-tab flex-1 py-2 text-sm font-bold rounded shadow bg-white text-blue-800"
                                    data-target="triangle">삼각형 치기</button>
                                <button onclick="switchMarble('odd-even')"
                                    class="marble-tab flex-1 py-2 text-sm font-bold rounded text-gray-500 hover:bg-white"
                                    data-target="odd-even">홀짝 게임</button>
                                <button onclick="switchMarble('hole')"
                                    class="marble-tab flex-1 py-2 text-sm font-bold rounded text-gray-500 hover:bg-white"
                                    data-target="hole">구멍 넣기</button>
                            </div>

                            <!-- Marble Content Area -->
                            <div id="marble-content"
                                class="bg-[#f8fafc] p-5 rounded-lg border border-gray-200 min-h-[200px]">
                                <!-- Initial content set by JS -->
                            </div>
                        </div>

                        <!-- Chart Container -->
                        <div class="flex flex-col justify-center">
                            <h4 class="text-lg font-bold mb-2 text-center text-gray-700">1980년대 방과 후 놀이 점유율 (추정)</h4>
                            <div class="chart-container">
                                <canvas id="gamesChart"></canvas>
                            </div>
                            <p class="text-center text-xs text-gray-500 mt-2">* 당시 골목길 체감 인기도 기준</p>
                        </div>
                    </div>

                    <!-- Other Games Grid -->
                    <h4 class="text-xl font-bold mb-4 border-l-4 border-[#15803d] pl-3">그 외 전설의 놀이들</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="memory-card bg-[#fffbeb] p-4 rounded border border-yellow-200">
                            <div class="aspect-square overflow-hidden rounded mb-2">
                                <img src="images/retro_ddakkji_game.png" data-asset-key="img_ddakkji" alt="딱지치기"
                                    class="w-full h-full object-cover">
                            </div>
                            <h5 class="font-bold text-lg mb-1">딱지치기</h5>
                            <p class="text-sm text-gray-600">달력이나 우유곽을 접어 만든 절대 딱지의 위력. 발을 걸어 넘기면 내 것!</p>
                        </div>
                        <div class="memory-card bg-[#fffbeb] p-4 rounded border border-yellow-200">
                            <div class="aspect-square overflow-hidden rounded mb-2">
                                <img src="images/retro_rubber_band_game.png" data-asset-key="img_rubber_band"
                                    alt="고무줄 놀이" class="w-full h-full object-cover">
                            </div>
                            <h5 class="font-bold text-lg mb-1">고무줄 놀이</h5>
                            <p class="text-sm text-gray-600">"전우의 시체를 넘고 넘어~" 노래에 맞춰 발목, 무릎, 허리, 머리까지 올라가던 높이.</p>
                        </div>
                        <div class="memory-card bg-[#fffbeb] p-4 rounded border border-yellow-200">
                            <div class="aspect-square overflow-hidden rounded mb-2">
                                <img src="images/retro_hopscotch.png" data-asset-key="img_hopscotch" alt="사방치기"
                                    class="w-full h-full object-cover">
                            </div>
                            <h5 class="font-bold text-lg mb-1">사방치기 (땅따먹기)</h5>
                            <p class="text-sm text-gray-600">돌 하나만 있으면 운동장이 내 세상. 1단부터 8단까지 균형 감각의 끝판왕.</p>
                        </div>
                    </div>
                </div>

                <!-- 80s Guestbook Section -->
                <div class="mt-8 border-t-4 border-[#e6dec3] pt-6">
                    <h4 class="text-xl font-bold mb-4 text-[#8c7b6c]">📢 골목길 방명록</h4>

                    <!-- Comment Form -->
                    <div class="bg-[#fdfbf7] p-4 rounded-lg border border-[#d6ceb2] mb-6">
                        <div class="flex gap-2 mb-2">
                            <input type="text" id="guest-name-80s" placeholder="이름 (예: 철수)"
                                class="border p-2 rounded flex-1 text-sm bg-white" maxlength="10">
                            <button onclick="addComment80s()"
                                class="bg-[#15803d] text-white px-4 py-2 rounded font-bold hover:bg-[#166534] transition text-sm">남기기</button>
                        </div>
                        <textarea id="guest-msg-80s" placeholder="그 시절 추억을 남겨주세요..."
                            class="w-full border p-2 rounded text-sm bg-white h-20 resize-none"></textarea>
                    </div>

                    <!-- Comment List -->
                    <div id="comment-list-80s" class="space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar">
                        <!-- Comments will be loaded here -->
                    </div>
                </div>

                <!-- Firebase SDK -->
                <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
                <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

                <script>
                    // --- Firebase Configuration ---
                    const firebaseConfig = {
                        apiKey: "AIzaSyDSkNCvrW_6z5A68Fe4ojSHNM6DUMqrnrk",
                        authDomain: "my-projects-b1173.firebaseapp.com",
                        projectId: "my-projects-b1173",
                        storageBucket: "my-projects-b1173.firebasestorage.app",
                        messagingSenderId: "217698801638",
                        appId: "1:217698801638:web:fe11f52799012b2a98e827",
                        measurementId: "G-SP9RFMQCVJ"
                    };

                    // Initialize Firebase
                    const app = firebase.initializeApp(firebaseConfig);
                    const db = firebase.firestore(app);

                    // 80s Guestbook Logic (Firestore)
                    function renderComments80s(doc) {
                        const list = document.getElementById('comment-list-80s');
                        const data = doc.data();
                        const html = `
                            <div class="bg-white p-3 rounded shadow-sm border border-gray-100 mb-3 animate-fadeIn">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-[#15803d] text-sm">${data.name}</span>
                                    <span class="text-xs text-gray-400">${data.date}</span>
                                </div>
                                <p class="text-gray-700 text-sm">${data.text}</p>
                            </div>
                        `;
                        // Prepend (latest first) is handled by query order, but for onSnapshot usually we clear and redraw or append.
                        // For simplicity in real-time, we will clear and redraw entire list on snapshot update OR prepend single new one.
                        // Let's use clean full redraw for simplicity and correctness with ordering.
                    }

                    // Real-time listener
                    db.collection("guestbook80s").orderBy("timestamp", "desc").onSnapshot((snapshot) => {
                        const list = document.getElementById('comment-list-80s');
                        list.innerHTML = ''; // Request clear
                        snapshot.forEach((doc) => {
                            renderComments80s(doc); // Re-use render function logic basically inside
                            const data = doc.data();
                            list.innerHTML += `
                                <div class="bg-white p-3 rounded shadow-sm border border-gray-100 mb-3">
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-bold text-[#15803d] text-sm">${data.name}</span>
                                        <span class="text-xs text-gray-400">${data.date}</span>
                                    </div>
                                    <p class="text-gray-700 text-sm">${data.text}</p>
                                </div>
                            `;
                        });
                    }, (error) => {
                        console.error("Error getting documents: ", error);
                        // If config is wrong, show a friendly message
                        const list = document.getElementById('comment-list-80s');
                        list.innerHTML = '<div class="text-center text-red-500 p-4">🔥 파이어베이스 설정이 필요합니다.<br>코드를 확인해주세요!</div>';
                    });

                    function addComment80s() {
                        const nameInput = document.getElementById('guest-name-80s');
                        const msgInput = document.getElementById('guest-msg-80s');

                        const name = nameInput.value.trim();
                        const text = msgInput.value.trim();

                        if (!name || !text) {
                            alert('이름과 내용을 모두 입력해주세요!');
                            return;
                        }

                        const now = new Date();
                        const dateStr = `${now.getFullYear()}.${String(now.getMonth() + 1).padStart(2, '0')}.${String(now.getDate()).padStart(2, '0')}`;

                        // Add to Firestore
                        db.collection("guestbook80s").add({
                            name: name,
                            text: text,
                            date: dateStr,
                            timestamp: firebase.firestore.FieldValue.serverTimestamp()
                        })
                            .then(() => {
                                // Success - clear inputs (List updates automatically via onSnapshot)
                                nameInput.value = '';
                                msgInput.value = '';
                            })
                            .catch((error) => {
                                console.error("Error adding document: ", error);
                                alert("글 저장에 실패했습니다. 설정을 확인해주세요.");
                            });
                    }
                </script>
            </section>

            <!-- Section 2: School Life -->
            <section id="school" class="section-content hidden">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border border-[#d6ceb2]">
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-[#15803d] mb-2">국민학교 3학년 2반</h3>
                        <p class="text-gray-600">초등학교가 아닙니다. 우리는 '국민학교'를 졸업했습니다.</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Classroom Visualization -->
                        <div class="space-y-4">
                            <div class="bg-[#f0fdf4] p-5 rounded-lg border border-green-100">
                                <h4 class="font-bold text-lg mb-3">🎒 책가방 검사 (준비물)</h4>
                                <ul class="space-y-2">
                                    <li class="flex items-center p-2 bg-white rounded shadow-sm">
                                        <img src="images/retro_school_lunchbox.png" data-asset-key="img_lunchbox"
                                            class="w-16 h-16 object-cover rounded mr-3" alt="Lunchbox">
                                        <div>
                                            <span class="font-bold block">양철 도시락</span>
                                            <span class="text-xs text-gray-500">겨울철 조개탄 난로 위에 쌓아두면 누룽지가 별미.</span>
                                        </div>
                                    </li>
                                    <li class="flex items-center p-2 bg-white rounded shadow-sm">
                                        <img src="images/retro_nametag_handkerchief.png" data-asset-key="img_nametag"
                                            class="w-16 h-16 object-cover rounded mr-3" alt="Nametag">
                                        <div>
                                            <span class="font-bold block">명찰과 손수건</span>
                                            <span class="text-xs text-gray-500">왼쪽 가슴에 하얀 손수건과 함께 핀으로 고정.</span>
                                        </div>
                                    </li>
                                    <li class="flex items-center p-2 bg-white rounded shadow-sm">
                                        <img src="images/retro_stool_envelope.png" data-asset-key="img_stool"
                                            class="w-16 h-16 object-cover rounded mr-3" alt="Stool test">
                                        <div>
                                            <span class="font-bold block">채변 봉투</span>
                                            <span class="text-xs text-gray-500">전 국민을 공포에 떨게 했던 하얀 봉투. 기생충 검사의
                                                추억.</span>
                                        </div>
                                    </li>
                                    <li class="flex items-center p-2 bg-white rounded shadow-sm">
                                        <img src="images/retro_chalkboard_names.png" data-asset-key="img_chalkboard"
                                            class="w-16 h-16 object-cover rounded mr-3" alt="Chalkboard">
                                        <div>
                                            <span class="font-bold block">떠든 사람 명단</span>
                                            <span class="text-xs text-gray-500">칠판 구석에 적힌 이름들. 지우개로 지우려다 걸리면 두 배로
                                                혼남.</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!-- Interactive Desk/Uniform -->
                        <div class="bg-[#f5f5f5] p-5 rounded-lg border border-gray-200">
                            <h4 class="font-bold text-lg mb-3">👔 그 시절 등굣길</h4>
                            <p class="text-sm text-gray-700 mb-4">
                                중학교 배정을 위한 '뺑뺑이' 추첨이나 교련복의 추억을 떠올려보세요.
                            </p>

                            <div class="relative w-full h-48 bg-[#333] rounded-lg flex items-center justify-center overflow-hidden mb-4 group cursor-pointer border-4 border-[#8c7b6c]"
                                onclick="toggleUniform()">
                                <div class="text-center text-white transition-opacity duration-300" id="uniform-text">
                                    <span class="text-4xl block mb-2">🎓</span>
                                    <span class="text-sm font-bold">클릭하여 추억 복원</span>
                                </div>
                                <div id="uniform-reveal"
                                    class="absolute inset-0 bg-black flex flex-col items-center justify-center hidden">
                                    <img src="images/retro_school_uniform_reveal.png" data-asset-key="img_uniform"
                                        class="absolute inset-0 w-full h-full object-cover opacity-60" alt="Uniform">
                                    <div class="relative z-10 text-center p-4">
                                        <div class="text-white font-bold text-xl drop-shadow-md">까까머리와 교련복</div>
                                        <div class="text-gray-200 text-sm mt-1 drop-shadow-md">검정 단추, 하얀 칼라, 그리고 이름표
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-yellow-50 p-3 rounded border border-yellow-200 text-sm">
                                <strong>💡 80년대 학교 TMI:</strong><br>
                                학생 수가 너무 많아 '오전반/오후반' 2부제 수업이 흔했습니다. 짝꿍과 책상에 줄을 긋고 '넘어오면 내 거'라고 싸우던 시절이죠.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: Stationery Store (Snacks) -->
            <section id="store" class="section-content hidden">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border border-[#d6ceb2]">
                    <div class="mb-6 flex flex-col md:flex-row gap-6 items-center">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-[#b91c1c] mb-2">학교 앞 문방구 & 불량식품</h3>
                            <p class="text-gray-600">용돈 100원이면 세상을 다 가진 듯했던 보물창고.</p>
                        </div>
                        <img src="images/retro_stationery_store_snacks.png" data-asset-key="img_snacks_main"
                            class="w-full md:w-48 h-32 object-cover rounded-lg shadow-md border-2 border-dashed border-[#b91c1c]"
                            alt="Stationery snacks">
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <!-- Snack Items -->
                        <div class="text-center group cursor-pointer" onclick="alert('연탄불에 구워 먹으면 꿀맛!')">
                            <div
                                class="w-full h-32 bg-[#fdba74] rounded-lg mb-2 flex items-center justify-center text-4xl shadow-md group-hover:scale-105 transition-transform border-2 border-dashed border-orange-300">
                                🥓
                            </div>
                            <h4 class="font-bold">쫀드기</h4>
                            <p class="text-xs text-gray-500">불에 구워야 제맛</p>
                        </div>

                        <div class="text-center group cursor-pointer" onclick="alert('이쑤시개로 별 모양을 완벽하게 따내면 하나 더!')">
                            <div
                                class="w-full h-32 bg-[#bfdbfe] rounded-lg mb-2 flex items-center justify-center text-4xl shadow-md group-hover:scale-105 transition-transform border-2 border-dashed border-blue-300">
                                ⭐
                            </div>
                            <h4 class="font-bold">뽑기 (달고나)</h4>
                            <p class="text-xs text-gray-500">침 묻혀가며 성공 기원</p>
                        </div>

                        <div class="text-center group cursor-pointer" onclick="alert('입안이 시원해지면서 단맛이 싹~')">
                            <div
                                class="w-full h-32 bg-[#fca5a5] rounded-lg mb-2 flex items-center justify-center text-4xl shadow-md group-hover:scale-105 transition-transform border-2 border-dashed border-red-300">
                                🥤
                            </div>
                            <h4 class="font-bold">아폴로</h4>
                            <p class="text-xs text-gray-500">쪽쪽 빨아먹는 재미</p>
                        </div>

                        <div class="text-center group cursor-pointer" onclick="alert('종이 인형 옷 입히기, 딱지, 콩알탄...')">
                            <div
                                class="w-full h-32 bg-[#d6d3d1] rounded-lg mb-2 flex items-center justify-center text-4xl shadow-md group-hover:scale-105 transition-transform border-2 border-dashed border-gray-400">
                                🪁
                            </div>
                            <h4 class="font-bold">추억의 장난감</h4>
                            <p class="text-xs text-gray-500">종이인형, 콩알탄</p>
                        </div>
                    </div>

                    <!-- Price Chart -->
                    <div class="mt-8 pt-6 border-t border-gray-200 flex flex-col items-center">
                        <h4 class="text-lg font-bold mb-4">그 시절 물가 체험 (1985년 기준)</h4>
                        <div class="chart-container">
                            <canvas id="priceChart"></canvas>
                        </div>
                        <p class="text-center text-xs text-gray-500 mt-2">단위: 원 (Won)</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Timeline (News) -->
            <section id="timeline" class="section-content hidden">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border border-[#d6ceb2]">
                    <h3 class="text-2xl font-bold text-[#1d4ed8] mb-6">대한뉴스: 격동의 80년대</h3>

                    <div class="relative border-l-4 border-[#1d4ed8] ml-4 space-y-8">
                        <!-- Timeline Items -->
                        <div class="ml-6 relative">
                            <div
                                class="absolute -left-10 mt-1.5 w-6 h-6 bg-[#1d4ed8] rounded-full border-4 border-white shadow">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg shadow-sm flex flex-col md:flex-row gap-4">
                                <div class="flex-grow">
                                    <span class="text-sm font-bold text-blue-600 block mb-1">1982년</span>
                                    <h4 class="text-xl font-bold mb-2">프로야구 출범 & 통금 해제</h4>
                                    <p class="text-gray-700 text-sm">OB 베어스의 우승으로 막을 내린 프로야구 원년. 그리고 37년 만에 야간 통행금지가
                                        해제되어
                                        밤거리가 자유로워졌습니다.</p>
                                </div>
                                <img src="images/retro_baseball_1982.png" data-asset-key="img_baseball"
                                    class="w-full md:w-32 h-24 object-cover rounded shadow-sm" alt="1982 Baseball">
                            </div>
                        </div>

                        <div class="ml-6 relative">
                            <div
                                class="absolute -left-10 mt-1.5 w-6 h-6 bg-[#1d4ed8] rounded-full border-4 border-white shadow">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                                <span class="text-sm font-bold text-blue-600 block mb-1">1986년</span>
                                <h4 class="text-xl font-bold mb-2">서울 아시안 게임</h4>
                                <p class="text-gray-700 text-sm">"라면만 먹고 뛰었다" 임춘애 선수의 금메달 소식이 온 국민을 울렸습니다.</p>
                            </div>
                        </div>

                        <div class="ml-6 relative">
                            <div
                                class="absolute -left-10 mt-1.5 w-6 h-6 bg-[#b91c1c] rounded-full border-4 border-white shadow">
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg shadow-md border border-yellow-200">
                                <span class="text-sm font-bold text-red-600 block mb-1">1988년</span>
                                <h4 class="text-xl font-bold mb-2">제24회 서울 올림픽</h4>
                                <p class="text-gray-700 text-sm">
                                    "손에 손잡고~" 굴렁쇠 소년과 코리아나의 노래. 잠실 주경기장의 함성이 아직도 들리는 듯합니다. 대한민국의 발전상을 전 세계에 알린 역사적인 사건.
                                </p>
                            </div>
                        </div>

                        <div class="ml-6 relative">
                            <div
                                class="absolute -left-10 mt-1.5 w-6 h-6 bg-[#1d4ed8] rounded-full border-4 border-white shadow">
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                                <span class="text-sm font-bold text-blue-600 block mb-1">1989년</span>
                                <h4 class="text-xl font-bold mb-2">해외여행 자유화</h4>
                                <p class="text-gray-700 text-sm">드디어 일반 국민들도 여권을 자유롭게 만들고 해외로 나갈 수 있게 되었습니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 5: AI Prompts -->
            <section id="prompts" class="section-content hidden">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border border-purple-200">
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-purple-800 mb-2">🖼️ AI 추억 복원실 (갤러리)</h3>
                        <p class="text-gray-600">최신 AI 기술로 선명하게 되살린 80년대의 찰나들입니다.</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Image 1 -->
                        <div class="border border-gray-200 rounded-lg overflow-hidden shadow-md">
                            <div class="bg-purple-50 p-3 border-b border-gray-200">
                                <h4 class="font-bold text-purple-900 text-sm">1. 한겨울 교실의 풍경</h4>
                            </div>
                            <img src="images/retro_classroom_winter.png" data-asset-key="img_gallery_winter"
                                alt="Classroom lunch box" class="w-full h-48 object-cover">
                            <div class="p-3 text-xs text-gray-500">#조개탄난로 #양철도시락 #국민학교</div>
                        </div>

                        <!-- Image 2 -->
                        <div class="border border-gray-200 rounded-lg overflow-hidden shadow-md">
                            <div class="bg-purple-50 p-3 border-b border-gray-200">
                                <h4 class="font-bold text-purple-900 text-sm">2. 골목길 보물창고, 문방구</h4>
                            </div>
                            <img src="images/stationery_store.png" data-asset-key="img_gallery_store"
                                alt="Stationery store" class="w-full h-48 object-cover">
                            <div class="p-3 text-xs text-gray-500">#문방구 #쫀드기 #동네친구</div>
                        </div>

                        <!-- Image 3 -->
                        <div class="border border-gray-200 rounded-lg overflow-hidden shadow-md">
                            <div class="bg-purple-50 p-3 border-b border-gray-200">
                                <h4 class="font-bold text-purple-900 text-sm">3. 1988 서울 올림픽</h4>
                            </div>
                            <img src="images/olympic_88.png" data-asset-key="img_gallery_olympic"
                                alt="Seoul Olympics 1988" class="w-full h-48 object-cover">
                            <div class="p-3 text-xs text-gray-500">#호돌이 #잠실경기장 #코리아나</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>




        <!-- ==========================================
             1990s ERA CONTAINER (Initially Hidden)
        =========================================== -->
        <div id="era-90s" class="era-container">
            <!-- Intro 90s -->
            <section id="intro-90s" class="section-content-90s hidden text-center py-8 border-b-2 border-blue-200">
                <h2 class="text-2xl font-bold text-blue-800 mb-2">💾 1990년대: 디지털의 새벽과 X세대의 탄생</h2>
                <p class="text-gray-700 font-bold italic">삐삐에서 핸드폰으로, PC통신에서 인터넷으로 바뀌던 그 역동적인 시절을 기억하시나요?</p>
            </section>

            <!-- Section 1: Playground (Games) -->
            <section id="playground-90s" class="section-content-90s hidden">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border-l-8 border-blue-500">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-gamepad text-3xl text-blue-600 mr-4"></i>
                        <h3 class="text-2xl font-bold text-gray-800">오락실의 전설: 펌프와 DDR</h3>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <p class="text-lg leading-relaxed text-gray-700">
                                90년대 후반 오락실은 <span class="font-bold text-blue-600">DDR(Dance Dance Revolution)</span>과
                                <span class="font-bold text-pink-600">Pump It Up</span>의 성지였습니다.
                                화려한 발동작으로 신곡 '컴백'이나 '또 다른 진심'에 맞춰 춤추던 그 시절 오빠, 언니들을 기억하시나요?
                            </p>
                            <div class="bg-blue-50 p-4 rounded border border-blue-100 shadow-inner">
                                <h4 class="font-bold text-blue-800 mb-2">🕹️ 90년대 인기 게임들:</h4>
                                <ul class="list-disc list-inside text-gray-600 space-y-1">
                                    <li>킹 오브 파이터즈 '96 '97</li>
                                    <li>스타크래프트 (PC방의 시초)</li>
                                    <li>프린세스 메이커 2</li>
                                    <li>창세기전 서풍의 광시곡</li>
                                </ul>
                            </div>
                        </div>
                        <div
                            class="relative rounded-xl overflow-hidden shadow-2xl transform rotate-1 border-4 border-blue-200">
                            <img src="https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80&w=600"
                                data-asset-key="img_90s_arcade" alt="Arcade Game" class="w-full h-auto">
                            <div
                                class="absolute bottom-0 left-0 right-0 bg-blue-600 bg-opacity-75 p-2 text-white text-center text-sm font-bold">
                                발끝으로 전해지던 비트의 흥분
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 2: School Life (X-Gen) -->
            <section id="school-90s" class="section-content-90s hidden">
                <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 border-l-8 border-purple-500">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-user-graduate text-3xl text-purple-600 mr-4"></i>
                        <h3 class="text-2xl font-bold text-gray-800">X세대의 개성과 힙합 문화</h3>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="rounded-lg overflow-hidden border-4 border-purple-100 shadow-xl">
                            <img src="90s_fashion.png" alt="X-Generation Fashion" class="w-full h-auto">
                            <div class="p-3 bg-purple-50 text-center text-sm font-bold text-purple-800 italic border-t">
                                "교실 이데아" - 서태지와 아이들의 충격적 등장</div>
                        </div>
                        <div class="space-y-4">
                            <p class="text-lg leading-relaxed text-gray-700">
                                "기성세대는 가라!" <span class="font-bold text-purple-600">서태지와 아이들</span>과 함께 등장한 X세대는 패션으로
                                자신을 표현했습니다.
                                밑단이 끌리는 <span class="font-bold text-blue-600">힙합 바지</span>, 그리고 겨울이면 모두가 입었던 <span
                                    class="font-bold text-red-700">떡볶이 코트(더플 코트)</span>.
                            </p>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="p-4 bg-gray-50 rounded text-center border-t-4 border-purple-400 shadow-sm">
                                    <span class="block font-bold text-purple-900">워크맨 & CDP</span>
                                    <span class="text-xs text-gray-500">소니 워크맨의 전성기</span>
                                </div>
                                <div class="p-4 bg-gray-50 rounded text-center border-t-4 border-blue-400 shadow-sm">
                                    <span class="block font-bold text-blue-900">아이돌 팬덤</span>
                                    <span class="text-xs text-gray-500">H.O.T vs 젝스키스</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: Store (Tech/Items) -->
            <section id="store-90s" class="section-content-90s hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- PC Communication Card -->
                    <div
                        class="bg-gray-900 text-green-400 rounded-lg shadow-2xl p-6 border-4 border-gray-700 font-mono">
                        <div class="border-b border-green-900 pb-2 mb-4 flex justify-between">
                            <span class="text-xs">ATDT 01410</span>
                            <span class="animate-pulse text-xs">CONNECT 2400/MNP5</span>
                        </div>
                        <h3 class="text-xl font-bold mb-4 text-white uppercase italic tracking-tighter">천리안 / 하이텔 / 나우누리
                        </h3>
                        <div class="bg-black p-4 rounded mb-4 border border-green-800">
                            <img src="90s_pc_tongshin.png" alt="PC Communication" class="w-full h-48 object-contain">
                        </div>
                        <p class="text-sm leading-relaxed mb-4 text-green-300">
                            모뎀의 구슬픈 접속음과 함께 펼쳐지던 파란 화면의 세계.
                            밤새도록 채팅방에서 만난 인연들과 '벙개'를 약속하던 그 설렘을 기억하시나요?
                        </p>
                        <div class="flex justify-between text-xs text-green-700">
                            <span>ONLINE 03:45:12</span>
                            <span>[C]ontinue?</span>
                        </div>
                    </div>

                    <!-- Beeper Card -->
                    <div
                        class="bg-white rounded-lg shadow-lg p-6 border-b-8 border-yellow-400 relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 p-2 bg-yellow-400 text-xs font-bold transform rotate-45 translate-x-4 -translate-y-1">
                            NEW MSG</div>
                        <h3 class="text-xl font-bold mb-6 text-gray-800 flex items-center">
                            <i class="fas fa-pager text-yellow-500 mr-2"></i> 숫자 정보 단말기: 삐삐
                        </h3>
                        <div class="flex flex-col md:flex-row gap-6 items-center">
                            <img src="90s_beeper.png" alt="90s Beeper" class="w-48 h-auto shadow-2xl rounded-lg">
                            <div class="flex-1 space-y-4">
                                <div class="bg-gray-100 p-3 rounded italic text-gray-800 border-l-4 border-yellow-500">
                                    <p class="text-sm">"8282" - 빨리 연락해!</p>
                                    <p class="text-sm">"1004" - 당신의 천사로부터</p>
                                    <p class="text-sm">"1010235" - 열열히 사모해</p>
                                </div>
                                <p class="text-sm text-gray-600">공중전화 박스 앞에 길게 늘어선 줄, 음성 사서함을 확인하며 설레던 퇴근길.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 4: Timeline 90s -->
            <section id="timeline-90s" class="section-content-90s hidden">
                <div class="max-w-4xl mx-auto py-8">
                    <!-- 90s Archive Slider Section -->
                    <div class="bg-blue-900 text-white rounded-lg shadow-2xl p-6 mb-12 border-4 border-blue-400">
                        <div class="flex flex-col md:flex-row items-center justify-between mb-8 gap-4">
                            <div class="text-left">
                                <h3 class="text-2xl font-bold text-yellow-400">그 시절 뉴스를 찾아서</h3>
                                <p class="text-blue-200 text-sm">슬라이더를 움직여 90년대의 주요 사건을 확인하세요.</p>
                            </div>
                            <div class="flex items-center gap-4 bg-blue-800 p-3 rounded-full border border-blue-600">
                                <input type="range" id="year-slider" min="1990" max="1999" value="1990"
                                    class="year-slider w-48 h-2 bg-blue-400 rounded-lg appearance-none cursor-pointer">
                                <span id="year-display"
                                    class="text-xl font-black text-yellow-400 min-w-[70px] text-center">1990년</span>
                            </div>
                        </div>

                        <div id="archive-display"
                            class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center bg-blue-950 p-6 rounded-xl border border-blue-800">
                            <div class="relative group">
                                <div
                                    class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg blur opacity-25 group-hover:opacity-100 transition duration-1000 group-hover:duration-200">
                                </div>
                                <img id="archive-img" src="archive_1990.png" alt="Archive News"
                                    class="relative w-full h-64 object-cover rounded-lg border-2 border-blue-400">
                            </div>
                            <div class="space-y-4">
                                <h4 id="archive-title"
                                    class="text-2xl font-bold text-white border-b-2 border-yellow-400 pb-2">1990: 3당 합당과
                                    범죄와의 전쟁</h4>
                                <p id="archive-desc" class="text-blue-100 leading-relaxed">
                                    민주정의당, 통일민주당, 신민주공화당의 합당으로 거대 여당이 탄생하고, 사회 안정을 위한 '범죄와의 전쟁'이 선포되었습니다.
                                </p>
                                <div class="flex gap-2">
                                    <span class="px-2 py-1 bg-blue-800 rounded text-xs text-blue-300">#디지털새벽</span>
                                    <span class="px-2 py-1 bg-blue-800 rounded text-xs text-blue-300">#X세대</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="space-y-8 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-blue-300 before:to-transparent">
                        <!-- Event 1 -->
                        <div
                            class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active">
                            <div
                                class="flex items-center justify-center w-10 h-10 rounded-full border-4 border-white bg-blue-500 text-white shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                                <span class="text-[10px] font-bold">93</span>
                            </div>
                            <div
                                class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 rounded-xl border border-blue-100 bg-white shadow-md hover:shadow-lg transition-shadow">
                                <div class="flex items-center justify-between space-x-2 mb-2">
                                    <div class="font-bold text-blue-900">대전 엑스포 개막</div>
                                    <time
                                        class="text-xs font-bold px-2 py-1 bg-blue-100 text-blue-600 rounded">1993</time>
                                </div>
                                <div class="text-gray-600 text-sm italic">'꿈돌이'와 함께 미래를 꿈꾸던 과학 기술의 축제.</div>
                            </div>
                        </div>
                        <!-- Event 2 -->
                        <div
                            class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active">
                            <div
                                class="flex items-center justify-center w-10 h-10 rounded-full border-4 border-white bg-yellow-500 text-white shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                                <span class="text-[10px] font-bold">95</span>
                            </div>
                            <div
                                class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 rounded-xl border border-yellow-100 bg-white shadow-md">
                                <div class="flex items-center justify-between space-x-2 mb-2">
                                    <div class="font-bold text-gray-800">국민학교 명칭 폐지</div>
                                    <time
                                        class="text-xs font-bold px-2 py-1 bg-yellow-100 text-yellow-700 rounded">1995</time>
                                </div>
                                <div class="text-gray-600 text-sm italic">광복 50주년을 맞아 일제 잔재인 '국민학교'가 '초등학교'로 변경되었습니다.
                                </div>
                            </div>
                        </div>
                        <!-- Event 3 -->
                        <div
                            class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active">
                            <div
                                class="flex items-center justify-center w-10 h-10 rounded-full border-4 border-white bg-red-500 text-white shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                                <span class="text-[10px] font-bold">97</span>
                            </div>
                            <div
                                class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 rounded-xl border border-red-100 bg-white shadow-md">
                                <div class="flex items-center justify-between space-x-2 mb-2">
                                    <div class="font-bold text-red-900">IMF 국가 부도 위기</div>
                                    <time
                                        class="text-xs font-bold px-2 py-1 bg-red-100 text-red-600 rounded">1997</time>
                                </div>
                                <div class="text-gray-600 text-sm italic">'금 모으기 운동'으로 전 국민이 아픔을 함께 극복해 나갔습니다.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 5: AI Gallery 90s -->
            <section id="prompts-90s" class="section-content-90s hidden">
                <div
                    class="bg-gradient-to-br from-blue-50 to-white rounded-lg shadow-xl p-6 md:p-8 border border-blue-200">
                    <div class="mb-10 text-center">
                        <h3 class="text-3xl font-black text-blue-900 mb-2 underline decoration-blue-300">🖼️ 90's 가상 복원실
                        </h3>
                        <p class="text-blue-700 font-medium">선명하게 되살린 우리들의 열정적인 90년대.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="group relative overflow-hidden rounded-lg shadow-lg border-2 border-white">
                            <img src="gallery_90s_pc_room.png" alt="PC Bang Reconstructed"
                                class="w-full aspect-square object-cover transition-transform duration-500 group-hover:scale-110">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-blue-900 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4">
                                <p class="text-white font-bold text-sm">PC통신과 스타크래프트의 시작</p>
                                <p class="text-blue-200 text-xs mt-1">초창기 PC방의 풍경 복원</p>
                            </div>
                        </div>
                        <div class="group relative overflow-hidden rounded-lg shadow-lg border-2 border-white">
                            <img src="gallery_90s_myeongdong.png" alt="90s Myeongdong Street"
                                class="w-full aspect-square object-cover transition-transform duration-500 group-hover:scale-110">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-purple-900 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4">
                                <p class="text-white font-bold text-sm">명동의 낭만과 X세대의 패션</p>
                                <p class="text-purple-200 text-xs mt-1">가장 화려했던 90년대 거리 재현</p>
                            </div>
                        </div>
                        <div class="group relative overflow-hidden rounded-lg shadow-lg border-2 border-white">
                            <img src="gallery_90s_pump.png" alt="Arcade Dance Game"
                                class="w-full aspect-square object-cover transition-transform duration-500 group-hover:scale-110">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-green-900 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4">
                                <p class="text-white font-bold text-sm">오락실을 뒤흔든 펌프와 DDR</p>
                                <p class="text-green-200 text-xs mt-1">그 시절 열정적인 리듬 게임 현장</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ==========================================
            2000s ERA CONTAINER (Static Content)
    =========================================== -->
        <div id="era-00s" class="era-container">
            <!-- 2000s Navigation -->
            <nav id="nav-00s"
                class="bg-white p-4 mb-6 rounded-lg flex justify-center gap-6 flex-wrap border-b border-gray-200 shadow-sm">
                <button
                    class="nav-btn-00s px-4 py-2 font-bold text-[#ff6b00] border-b-2 border-[#ff6b00] transition-colors"
                    onclick="switchTab00s('home')" id="tab00s-home">홈 (Home)</button>
                <button
                    class="nav-btn-00s px-4 py-2 font-bold text-gray-500 hover:text-[#ff6b00] border-b-2 border-transparent transition-colors"
                    onclick="switchTab00s('music')" id="tab00s-music">대중음악 (Music)</button>
                <button
                    class="nav-btn-00s px-4 py-2 font-bold text-gray-500 hover:text-[#ff6b00] border-b-2 border-transparent transition-colors"
                    onclick="switchTab00s('tech')" id="tab00s-tech">기술 & 인터넷 (Tech)</button>
                <button
                    class="nav-btn-00s px-4 py-2 font-bold text-gray-500 hover:text-[#ff6b00] border-b-2 border-transparent transition-colors"
                    onclick="switchTab00s('society')" id="tab00s-society">사회 & 이슈 (Society)</button>
            </nav>

            <!-- 2000s Home -->
            <section id="home-00s" class="section-content-00s w-full animate-fade-in">
                <section class="mb-12 text-center mt-8">
                    <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-6 tracking-tight">
                        <span class="bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-red-600">REPLY
                            2000s</span>
                    </h2>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed">
                        아날로그와 디지털이 공존했던 격변의 시기. 싸이월드로 소통하고, 2002년의 붉은 함성을 기억하는 당신을 위한 공간입니다.
                    </p>
                </section>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div
                        class="retro-card p-6 flex flex-col items-center text-center dotori-hover cursor-default bg-white border border-gray-200 rounded-lg">
                        <div class="text-4xl mb-4">⚽</div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">2002 월드컵</h3>
                        <p class="text-sm text-gray-500">전국민을 붉은 악마로 만든 역사적 순간</p>
                    </div>
                    <div
                        class="retro-card p-6 flex flex-col items-center text-center dotori-hover cursor-default bg-white border border-gray-200 rounded-lg">
                        <div class="text-4xl mb-4">🐿️</div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">싸이월드 감성</h3>
                        <p class="text-sm text-gray-500">도토리, 일촌, 그리고 감성 글귀</p>
                    </div>
                    <div
                        class="retro-card p-6 flex flex-col items-center text-center dotori-hover cursor-default bg-white border border-gray-200 rounded-lg">
                        <div class="text-4xl mb-4">🎧</div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">MP3의 시대</h3>
                        <p class="text-sm text-gray-500">소리바다, 아이리버, 벅스뮤직</p>
                    </div>
                    <div
                        class="retro-card p-6 flex flex-col items-center text-center dotori-hover cursor-default bg-white border border-gray-200 rounded-lg">
                        <div class="text-4xl mb-4">👖</div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">패션의 암흑기?</h3>
                        <p class="text-sm text-gray-500">샤기컷, 카고바지, 그리고 울프컷</p>
                    </div>
                </div>
            </section>

            <!-- 2000s Music -->
            <section id="music-00s" class="section-content-00s hidden w-full animate-fade-in">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8">
                    <div class="lg:col-span-2 space-y-8">
                        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">🎵 음악 산업의 대격변</h2>
                            <div class="chart-container relative h-[300px] w-full">
                                <canvas id="musicChart00s"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-1">
                        <div class="bg-blue-500 rounded-3xl p-6 text-white shadow-xl sticky top-24">
                            <div class="text-center mb-4 font-bold">MP3 PLAYER</div>
                            <div class="bg-blue-200 h-32 rounded flex items-center justify-center text-blue-900 mb-4">
                                Playing: Y (Please Tell Me Why)
                            </div>
                            <div class="space-y-2">
                                <div class="bg-blue-600 p-2 rounded text-sm">1. 소녀시대 - Gee</div>
                                <div class="bg-blue-600 p-2 rounded text-sm">2. 빅뱅 - 거짓말</div>
                                <div class="bg-blue-600 p-2 rounded text-sm">3. 원더걸스 - Tell Me</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 2000s Tech -->
            <section id="tech-00s" class="section-content-00s hidden w-full animate-fade-in">
                <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                        <h3 class="text-xl font-bold text-orange-600 mb-4">싸이월드 가입자 추이 (백만)</h3>
                        <div class="chart-container relative h-[300px] w-full">
                            <canvas id="techChart00s"></canvas>
                        </div>
                    </div>
                    <div class="flex items-center justify-center bg-gray-100 rounded-xl p-4">
                        <img src="images/cyworld_minihompy_mockup.png" class="max-w-full shadow-lg rounded"
                            alt="Cyworld Mockup"
                            onerror="this.src='https://via.placeholder.com/400x300?text=Cyworld+Mockup'">
                    </div>
                </div>
                <div class="mt-8">
                    <h3 class="text-xl font-bold text-gray-900 mb-6">Tech Gallery</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <img src="images/retro_mp3_player_2000s.png" class="rounded shadow-md w-full h-48 object-cover"
                            onerror="this.src='https://via.placeholder.com/300x200?text=MP3+Player'">
                        <div class="bg-white p-4 rounded shadow-md flex items-center justify-center">
                            <p class="text-center text-gray-600">가로본능, 스카이, 그리고 아이리버...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 2000s Society -->
            <section id="society-00s" class="section-content-00s hidden w-full animate-fade-in">
                <div class="mt-8 text-center">
                    <h2 class="text-3xl font-bold text-red-700 mb-6">🇰🇷 2002 월드컵의 함성</h2>
                    <div
                        class="bg-red-50 rounded-2xl p-8 border border-red-100 mb-12 flex flex-col md:flex-row gap-8 items-center">
                        <div class="w-full md:w-1/2 chart-container relative h-[300px]">
                            <canvas id="societyChart00s"></canvas>
                        </div>
                        <div class="w-full md:w-1/2">
                            <img src="images/worldcup_2002_red_devils.png"
                                class="rounded-lg shadow-xl w-full h-auto mb-4"
                                onerror="this.src='https://via.placeholder.com/400x300?text=World+Cup+2002'">
                            <p class="text-sm text-gray-600">시청 앞 광장을 가득 메운 붉은 악마들</p>
                        </div>
                    </div>

                    <div class="mt-12">
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">그 시절 패션 (Shaggy Cut)</h3>
                        <img src="images/korean_fashion_2000s_shaggy_cut.png"
                            class="mx-auto rounded-lg shadow-lg w-full md:w-2/3"
                            onerror="this.src='https://via.placeholder.com/400x300?text=2000s+Fashion'">
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#8c7b6c] text-[#f5f0e1] p-8 text-center border-t-4 border-[#5d5147]">
        <p class="mb-2">© 1980 Memories Archive Project</p>
        <p class="text-sm opacity-70">"당신의 가장 행복했던 순간은 언제인가요?"</p>
    </footer>

    <script>
        // --- Navigation Logic ---
        function navTo(sectionId) {
            // Check current era
            let currentEra = '80s';
            if (document.getElementById('era-90s').classList.contains('era-active')) currentEra = '90s';
            if (document.getElementById('era-00s') && document.getElementById('era-00s').classList.contains('era-active')) currentEra = '00s';

            if (currentEra === '00s') return; // The 00s era uses its own navigation system

            const suffix = currentEra === '90s' ? '-90s' : '';
            const targetId = sectionId + suffix;

            // Hide all sections for both eras
            document.querySelectorAll('.section-content, .section-content-90s').forEach(section => {
                section.classList.add('hidden');
            });

            // Show target section
            if (document.getElementById(targetId)) {
                document.getElementById(targetId).classList.remove('hidden');
            }

            // Update nav styling
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('tab-active');
            });
            document.getElementById('btn-' + sectionId).classList.add('tab-active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- Era Switching Logic ---
        function switchEra(era) {
            const era80s = document.getElementById('era-80s');
            const era90s = document.getElementById('era-90s');
            const era00s = document.getElementById('era-00s');

            const btn80s = document.getElementById('era-btn-80s');
            const btn90s = document.getElementById('era-btn-90s');
            const btn00s = document.getElementById('era-btn-00s');

            const title = document.getElementById('main-title');
            const subtitle = document.getElementById('main-subtitle');
            const tags = document.getElementById('tag-container');
            const body = document.body;

            // Reset all first
            [era80s, era90s, era00s].forEach(el => el && el.classList.remove('era-active'));
            [btn80s, btn90s, btn00s].forEach(btn => {
                if (btn) {
                    btn.classList.remove('era-btn-active');
                    btn.classList.add('bg-[#e6dec3]', 'text-[#4a4036]'); // Default retro style
                }
            });
            body.classList.remove('theme-90s', 'theme-00s');

            if (era === '80s') {
                era80s.classList.add('era-active');
                if (btn80s) {
                    btn80s.classList.add('era-btn-active');
                    btn80s.classList.remove('bg-[#e6dec3]', 'text-[#4a4036]');
                }

                title.innerText = "응답하라 1980";
                subtitle.innerText = "국민학교와 중학교 시절의 따뜻한 추억 기록장";
                tags.innerHTML = `
                    <span class="px-3 py-1 bg-[#b91c1c] rounded-full">#구슬치기</span>
                    <span class="px-3 py-1 bg-[#1d4ed8] rounded-full">#88올림픽</span>
                    <span class="px-3 py-1 bg-[#15803d] rounded-full">#도시락</span>
                `;
                loadDynamicContent();
                navTo('playground');

            } else if (era === '90s') {
                era90s.classList.add('era-active');
                if (btn90s) {
                    btn90s.classList.add('era-btn-active');
                    btn90s.classList.remove('bg-[#e6dec3]', 'text-[#4a4036]');
                }
                body.classList.add('theme-90s');

                title.innerText = "응답하라 1990";
                subtitle.innerText = "X세대와 디지털 문명의 서막, 그 화려했던 기억";
                tags.innerHTML = `
                    <span class="px-3 py-1 bg-[#1d4ed8] rounded-full">#PC통신</span>
                    <span class="px-3 py-1 bg-[#3b82f6] rounded-full">#X세대</span>
                    <span class="px-3 py-1 bg-[#6b21a8] rounded-full">#삐삐</span>
                `;
                navTo('playground');

            } else if (era === '00s') {
                era00s.classList.add('era-active');
                if (btn00s) {
                    btn00s.classList.add('era-btn-active');
                    btn00s.classList.remove('bg-[#e6dec3]', 'text-[#4a4036]');
                }
                body.classList.add('theme-00s');

                // Hide Legacy Sub-Nav
                const globalNav = document.getElementById('dynamic-nav')?.closest('nav');
                if (globalNav) {
                    globalNav.style.display = 'none';
                }

                title.innerText = "CYBER 2000";
                subtitle.innerText = "Archive Project: 그 시절 우리가 좋아했던 대한민국";
                tags.innerHTML = `
                    <span class="px-3 py-1 bg-[#ff6b00] rounded-full text-white">#싸이월드</span>
                    <span class="px-3 py-1 bg-[#be123c] rounded-full text-white">#2002월드컵</span>
                    <span class="px-3 py-1 bg-[#0ea5e9] rounded-full text-white">#MP3</span>
                `;

                // Initialize 00s content
                initCharts00s();
            }
        }

        // --- 00s Era Helper Functions ---
        function switchTab00s(tabId) {
            // Hide all 00s sections
            document.querySelectorAll('.section-content-00s').forEach(el => el.classList.add('hidden'));

            // Show target section
            const targetId = tabId + '-00s';
            const target = document.getElementById(targetId);
            if (target) {
                target.classList.remove('hidden');
            }

            // Update Active Tab UI
            document.querySelectorAll('.nav-btn-00s').forEach(btn => {
                btn.classList.remove('text-[#ff6b00]', 'border-[#ff6b00]');
                btn.classList.add('text-gray-500', 'border-transparent');
            });
            const activeBtn = document.getElementById('tab00s-' + tabId);
            if (activeBtn) {
                activeBtn.classList.remove('text-gray-500', 'border-transparent');
                activeBtn.classList.add('text-[#ff6b00]', 'border-[#ff6b00]');
            }
        }

        let chartsInitialized00s = false;
        function initCharts00s() {
            if (chartsInitialized00s) return;
            chartsInitialized00s = true;

            // Wait a moment for visibility to settle
            setTimeout(() => {
                // Music Chart
                try {
                    const ctxMusic = document.getElementById('musicChart00s').getContext('2d');
                    new Chart(ctxMusic, {
                        type: 'line',
                        data: {
                            labels: ['2000', '2002', '2004', '2006', '2008', '2010'],
                            datasets: [
                                { label: '음반 (Physical)', data: [4100, 2500, 1300, 800, 600, 500], borderColor: '#ef4444', tension: 0.4 },
                                { label: '디지털 (Digital)', data: [100, 400, 1500, 3000, 5500, 7000], borderColor: '#3b82f6', tension: 0.4 }
                            ]
                        },
                        options: { responsive: true, maintainAspectRatio: false }
                    });
                } catch (e) { console.error("Music Chart Init Failed", e); }

                // Tech Chart
                try {
                    const ctxTech = document.getElementById('techChart00s').getContext('2d');
                    new Chart(ctxTech, {
                        type: 'bar',
                        data: {
                            labels: ['2001', '2003', '2005', '2007', '2009'],
                            datasets: [{ label: 'Users (Million)', data: [3, 8, 15, 20, 24], backgroundColor: '#ff6b00' }]
                        },
                        options: { responsive: true, maintainAspectRatio: false }
                    });
                } catch (e) { console.error("Tech Chart Init Failed", e); }

                // Society Chart
                try {
                    const ctxSociety = document.getElementById('societyChart00s').getContext('2d');
                    new Chart(ctxSociety, {
                        type: 'doughnut',
                        data: {
                            labels: ['폴란드전', '미국전', '포르투갈전', '이탈리아전', '스페인전', '독일전'],
                            datasets: [{
                                data: [74.1, 68.3, 71.0, 72.4, 66.2, 69.1],
                                backgroundColor: ['#fee2e2', '#fecaca', '#fca5a5', '#f87171', '#ef4444', '#b91c1c']
                            }]
                        },
                        options: { responsive: true, maintainAspectRatio: false }
                    });
                } catch (e) { console.error("Society Chart Init Failed", e); }
            }, 100);
        }

        // --- Archive Data for 90s ---
        const archiveData = {
            1990: {
                title: "3당 합당과 범죄와의 전쟁",
                desc: "민주정의당, 통일민주당, 신민주공화당의 합당으로 거대 여당이 탄생하고, 사회 안정을 위한 '범죄와의 전쟁'이 선포되었습니다.",
                image: "archive_1990.png"
            },
            1991: {
                title: "지방의회 부활 & 남북한 UN 동시 가입",
                desc: "30년 만에 지방 자치가 부활했으며, 남한과 북한이 동시에 UN에 정식 회원국으로 가입하여 국제 사회의 인정을 받았습니다.",
                image: "archive_1991.png"
            },
            1992: {
                title: "서태지와 아이들 등장 & 바르셀로나 올림픽",
                desc: "'난 알아요'와 함께 한국 대중음악의 혁명이 시작되었습니다. 황영조 선수는 바르셀로나 올림픽 마라톤에서 금메달을 획득했습니다.",
                image: "archive_1992.png"
            },
            1993: {
                title: "금융실명제 실시 & 대전 엑스포",
                desc: "경제의 투명성을 높이기 위한 금융실명제가 전격 실시되었고, 과학 기술의 축제 대전 엑스포가 성황리에 열렸습니다.",
                image: "archive_1993.png"
            },
            1994: {
                title: "성수대교 붕괴 & 김일성 사망",
                desc: "성수대교 붕괴라는 비극적인 사건이 발생했으며, 북한 김일성 주석의 사망으로 한반도 정세가 급변했습니다.",
                image: "archive_1994.png"
            },
            1995: {
                title: "삼풍백화점 붕괴 & 쓰레기 종량제 실시",
                desc: "삼풍백화점 붕괴 참사로 전국이 슬픔에 잠겼으며, 환경 보호를 위한 쓰레기 종량제가 전국적으로 실시되었습니다.",
                image: "archive_1995.png"
            },
            1996: {
                title: "PC통신 열풍 & 한총련 사태",
                desc: "천리안, 하이텔 등 PC통신이 대중화되며 온라인 문화가 싹텄고, 연세대 한총련 사태로 사회적 파장이 컸습니다.",
                image: "archive_1996.png"
            },
            1997: {
                title: "IMF 외환위기 & 금 모으기 운동",
                desc: "국가 부도 위기로 IMF 구제금융을 받게 되었으나, 온 국민이 금 모으기 운동에 참여하며 위기 극복의 의지를 보였습니다.",
                image: "archive_1997.png"
            },
            1998: {
                title: "박세리·박찬호 활약 & 금강산 관광 시작",
                desc: "IMF의 시름을 덜어준 국민 영웅 박세리와 박찬호의 활약이 돋보였으며, 역사적인 금강산 관광의 길이 열렸습니다.",
                image: "archive_1998.png"
            },
            1999: {
                title: "밀레니엄 버그(Y2K) 소동",
                desc: "새로운 세기를 앞두고 컴퓨터 오류인 Y2K에 대한 불안감이 컸으나, 무사히 2000년대를 맞이할 준비를 마쳤습니다.",
                image: "archive_1999.png"
            }
        };

        function updateArchive(year) {
            const data = archiveData[year];
            if (!data) return;

            const display = document.getElementById('archive-display');
            document.getElementById('year-display').innerText = year + '년';

            display.innerHTML = `
                <div class="archive-card bg-blue-950 p-6 rounded-xl border border-blue-800 flex flex-col md:flex-row gap-6 items-center animate-fadeIn">
                    <div class="w-full md:w-1/2">
                        <img src="${data.image}" alt="Archive News" class="w-full h-64 object-cover rounded-lg border-2 border-blue-400 shadow-lg">
                    </div>
                    <div class="w-full md:w-1/2 space-y-4">
                        <h4 class="text-2xl font-bold text-white border-b-2 border-yellow-400 pb-2">${year}: ${data.title}</h4>
                        <p class="text-blue-100 leading-relaxed">${data.desc}</p>
                        <div class="flex gap-2">
                             <span class="px-2 py-1 bg-blue-800 rounded text-xs text-blue-300">#디지털새벽</span>
                             <span class="px-2 py-1 bg-blue-800 rounded text-xs text-blue-300">#X세대</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- Marble Tab Logic ---
        const marbleData = {
            'triangle': `
                <img src="retro_marble_triangle.png" class="w-full aspect-square object-cover rounded mb-2">
                <h5 class="font-bold text-blue-800 mb-2">📐 삼각형 치기</h5>
                <p class="text-sm leading-6">바닥에 삼각형을 그리고 각자의 구슬을 그 안에 넣습니다. 일정한 거리에서 구슬을 던져 삼각형 밖으로 구슬을 쳐내면 자신의 것이 됩니다. 가장 정석적이고 긴장감 넘치는 방식!</p>
            `,
            'odd-even': `
                <img src="retro_marble_odd_even.png" class="w-full aspect-square object-cover rounded mb-2">
                <h5 class="font-bold text-blue-800 mb-2">🎱 홀짝 게임</h5>
                <p class="text-sm leading-6">한 명의 친구가 손안에 구슬을 숨기고 "홀! 짝!"을 외치게 합니다. 맞추면 건 구슬만큼 따고, 틀리면 뺏기는 가장 단순하면서도 중독성 강한 심리전 게임입니다.</p>
            `,
            'hole': `
                <img src="retro_marble_hole.png" class="w-full aspect-square object-cover rounded mb-2">
                <h5 class="font-bold text-blue-800 mb-2">⛳ 구멍 넣기 (봄)</h5>
                <p class="text-sm leading-6">바닥에 작은 구멍을 여러 개 파고, 정해진 순서대로 구슬을 구멍에 먼저 넣는 사람이 이기는 방식입니다. 마치 골프와 비슷한 정교한 컨트롤이 필요합니다.</p>
            `
        };

        function switchMarble(type, event) {
            const content = document.getElementById('marble-content');
            if (content) content.innerHTML = marbleData[type];

            document.querySelectorAll('.marble-tab').forEach(tab => {
                tab.classList.remove('shadow', 'bg-white', 'text-blue-800');
                tab.classList.add('text-gray-500');
            });

            // Handle event correctly even if undefined (e.g. from window.onload)
            const activeTab = event ? event.currentTarget : document.querySelector('.marble-tab');
            if (activeTab) {
                activeTab.classList.add('shadow', 'bg-white', 'text-blue-800');
                activeTab.classList.remove('text-gray-500');
            }
        }

        // --- Uniform Toggle Logic ---
        function toggleUniform() {
            const reveal = document.getElementById('uniform-reveal');
            const text = document.getElementById('uniform-text');
            reveal.classList.remove('hidden');
            text.classList.add('opacity-0');
        }

        // --- Charts Initialization ---
        function initCharts() {
            // Games Share Chart
            const ctxGames = document.getElementById('gamesChart').getContext('2d');
            new Chart(ctxGames, {
                type: 'pie',
                data: {
                    labels: ['구슬치기', '딱지치기', '고무줄', '사방치기', '기타'],
                    datasets: [{
                        data: [35, 25, 15, 15, 10],
                        backgroundColor: ['#b91c1c', '#1d4ed8', '#15803d', '#ca8a04', '#475569'],
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });

            // Price Comparison Chart
            const ctxPrice = document.getElementById('priceChart').getContext('2d');
            new Chart(ctxPrice, {
                type: 'bar',
                data: {
                    labels: ['라면', '자장면', '버스요금', '영화표', '달고나'],
                    datasets: [{
                        label: '1985년 가격 (원)',
                        data: [120, 600, 110, 3000, 50],
                        backgroundColor: '#8c7b6c',
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // Initial setup
        window.onload = () => {
            initCharts();
            switchMarble('triangle', null);

            // Slider Event Listener
            const slider = document.getElementById('year-slider');
            if (slider) {
                slider.addEventListener('input', (e) => {
                    updateArchive(e.target.value);
                });
                updateArchive(slider.value);
            }
        };
    </script>
</body>

</html>
```